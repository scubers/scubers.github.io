<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="天道酬勤">
<meta property="og:type" content="website">
<meta property="og:title" content="Jrwong's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jrwong's Blog">
<meta property="og:description" content="天道酬勤">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jrwong's Blog">
<meta name="twitter:description" content="天道酬勤">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Jrwong's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Jrwong's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-technology">
          <a href="/categories/technology" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            技术
          </a>
        </li>
      
        
        <li class="menu-item menu-item-something">
          <a href="/categories/something" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            杂碎
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/12/jenkins/" itemprop="url">
                  搭建jenkins，代码项目持续继承
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-12T14:55:33+08:00" content="2016-09-12">
              2016-09-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><p>Jenkins是一个代码持续继承工具，也是一个服务器。<br><br>官方的DMG格式安装文件会创建一个jenkins用户，并且跟cocoapods有点不兼容（权限之类的问题）所以这里我选择的直接下载官方的war包。（<a href="http://updates.jenkins-ci.org/download/war/" target="_blank" rel="external">war包下载</a>）<br><br>使用jenkins需要安装java（<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="external">JDK下载，下载JDK后直接安装即可</a>）</p>
<h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><h2 id="直接启动war包"><a href="#直接启动war包" class="headerlink" title="直接启动war包"></a>直接启动war包</h2><p>下载好war包和安装好JDK之后，到war包目录下，执行命令</p>
<pre><code>java -jar jenkins.war

java -jar jenkins.war --httpPort=8800 // 指定端口
</code></pre><p>执行后，jenkins将启动，域名localhost，默认8080端口。直接访问即可</p>
<h2 id="使用Tomcat"><a href="#使用Tomcat" class="headerlink" title="使用Tomcat"></a>使用Tomcat</h2><p>可以把war包放入tomcat的webapp目录下，并启动tomcat，tomcat会自动解压war包并启动jenkins。</p>
<h2 id="Jenkins-Home"><a href="#Jenkins-Home" class="headerlink" title="Jenkins Home"></a>Jenkins Home</h2><p>第一次启动后，jenkins会在 /Users/${your_folder}/.jenkins 下建立自己的主配置文件夹，本用户的jenkins都实用这里的配置。</p>
<h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><p>进入系统后，进入系统设置-》管理插件</p>
<p>直接搜索安装</p>
<ul>
<li>Keychains and Provisioning Profiles Management (管理keychain和- provisioning文件插件）<br></li>
<li>搜索下载xcode相关插件<br></li>
<li>根据需要搜索安装svn 或者 git相关插件</li>
</ul>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>点击新建，输入项目名，选择<strong>构建一个自由风格的软件项目</strong></p>
<p>配置好相关的svn 配置。</p>
<h2 id="General"><a href="#General" class="headerlink" title="General"></a>General</h2><p>相关描述的配置</p>
<h2 id="源码管理"><a href="#源码管理" class="headerlink" title="源码管理"></a>源码管理</h2><p>相关源码管理的配置，根据自身实际需要，配置相关的svn或者git信息</p>
<h2 id="构建触发器"><a href="#构建触发器" class="headerlink" title="构建触发器"></a>构建触发器</h2><p>配置相关的构建时间与时机，可以配置定时任务，或者远程控制构建</p>
<h2 id="构建环境"><a href="#构建环境" class="headerlink" title="构建环境"></a>构建环境</h2><p>根据项目需要，添加必要的构建环境。<br><br>iOS情况下，安装keychain and Pro….插件后，可以勾选相关的配置</p>
<h2 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h2><p>点击添加构建步骤，可以添加自己的shell进行构建，也可以使用jenkins的xcode插件进行构建。</p>
<p><strong>注意：jenkins的Xcode插件在macOS10.10 之后不支持打包ipa包，只支持xcodebuild</strong></p>
<p>所以最后的导出ipa包需要自己写shell进行打包</p>
<p>构建步骤可以随意添加，根据需要添加自己的shell脚本进行继承工作。</p>
<h3 id="插曲"><a href="#插曲" class="headerlink" title="插曲"></a>插曲</h3><p>犹豫本人用到使用cocoapods进行管理项目，并且cocoapods的相关代码不会上传到svn，所以每次检出代码都需要pod install 或者updata一次。此时如果是第一次安装pod的话，xcworkspace下不会有我们需要的项目target，需要打开一次cocoapods生成的workspace才能自动生成。<br><br>在没有我们需要的target的情况下进行脚本编译的话，xcodebuild会报错。后再找到一个ruby插件，可以帮我们完成这个需要打开workspace的动作。</p>
<pre><code>gem install xcodeproj
</code></pre><p>然后写ruby脚本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">#!/usr/bin/env ruby</div><div class="line">require &apos;xcodeproj&apos;</div><div class="line"></div><div class="line">puts ARGV.at(0)</div><div class="line"></div><div class="line">def recreateSchemes(projpath)</div><div class="line">	xcproj = Xcodeproj::Project.open(projpath)</div><div class="line">	xcproj.recreate_user_schemes</div><div class="line">	xcproj.save	</div><div class="line">end</div><div class="line"></div><div class="line">recreateSchemes(ARGV.at(0))</div></pre></td></tr></table></figure>
<p>使用shell执行Ruby脚本</p>
<pre><code>ruby /xx/xx/ruby.ruby ${xcodeprojPath}
</code></pre><p>这样之后，workspace下就会生成我们需要的target，进而编译成功</p>
<h2 id="构建后操作"><a href="#构建后操作" class="headerlink" title="构建后操作"></a>构建后操作</h2><p>可以使用shell以及jenkins 自带的邮件，ftp插件等功能进行通知测试或者发布版本</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/30/iosautopackage/" itemprop="url">
                  搭建 iOS in House 发布服务器
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-30T11:29:48+08:00" content="2016-08-30">
              2016-08-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h1><ul>
<li>iOS在网上下载安装ipa必须实https连接</li>
<li>java的keytool生成的证书iOS识别不了，需要使用openssl命令生成</li>
</ul>
<h1 id="搭建服务器"><a href="#搭建服务器" class="headerlink" title="搭建服务器"></a>搭建服务器</h1><p>这里使用最常见的tomcat</p>
<h2 id="生成证书"><a href="#生成证书" class="headerlink" title="生成证书"></a>生成证书</h2><p>1、创建一个目录，进入cmd命令行下，通过cd命令进入该目录</p>
<p>2、在指定的目录下运行命令：<code>openssl genrsa -out server.key 1024</code>生成服务器密钥文件。</p>
<p>如果目录下生产server.key的文件，并且文件大小不为0，则说明成功。</p>
<p>如果没成功，查看输出的内容中是否有提示“\usr\local\ssl\openssl.cnf”找不到的问题，如果遇到这个问题，说明你并没有按照第四步的要求将openssl设置到path中，解决的办法有2个，第一个完成第四步openssl的path设定，第二个是将openssl的bin目录下的文件“openssl.cfg”修改个名字，然后在c盘下创建“\usr\local\ssl\”目录，将文件复制进去。</p>
<p>3、再运行命令：<code>openssl req -new -out server.csr -key server.key</code>根据密钥文件生成签署文件。</p>
<p>其中各个设置项中，除了Common Name其它的各项都可以为空，不过为了后期你好辨别证书，最好不要设置空，其中Common Name的值必须是你的服务器ip或者是域名，本机测试的话可以用localhost，但是如果要通过移动设备来访问就不能设置成localhost。</p>
<p>4、再运行命令：<code>openssl genrsa  -out ca.key 1024</code>生成客户端密钥文件。</p>
<p>5、再运行命令: <code>openssl req  -new -x509 -days 365 -key ca.key -out ca.crt</code>生成客户端的签署文件。</p>
<pre><code>填写的内容和第三步一致即可，其中organizationName必须和第三步的一致
</code></pre><p>6、在当前目录下创建demoCA文件夹，并在demoCA下创建文件index.txt和serial，serial内容为01，index.txt为空，以及文件夹newcerts</p>
<p>7、在命令行中输入：<code>openssl ca -in server.csr -out server.crt -cert ca.crt -keyfile ca.key</code>让客户端的签署证书能够被网站服务器的签署证书认识</p>
<p>8、运行命令<code>openssl pkcs12 -export -in server.crt -inkey server.key -out server.p12</code>把服务端签署证书转换浏览器可以识别的PCS12格式,密码使用上面输入的密码“123456”。</p>
<p>9、运行命令<code>java -cp jetty-5.1.10.jar org.mortbay.util.PKCS12Import server.p12  server.jks</code>，使用jetty中的PKCS12Import工具类完成转换,密码同上.(jetty-5.1.10.jar需要放置到当前文件夹中)</p>
<p>如果出现错误：说明你的jetty-5.1.10.jar没有复制到命令行的当前文件夹下。</p>
<p>10、如果你好奇，可以通过命令行<code>keytool -v -list -keystore server.jks</code>  查看下文件的签署内容。</p>
<p> 以上过程总共生成7个文件，我们只关心其中的3个文件，分别是server.p12（tomcat配置用）、server.jks（tomcat配置用）、ca.crt(客户端证书，需要iOS设备下载安装)。</p>
<h2 id="配置Tomcat"><a href="#配置Tomcat" class="headerlink" title="配置Tomcat"></a>配置Tomcat</h2><p> 1、打开Tomcat的目录，找到conf下的server.xml文件，打开找到被注释的8443端口部分，修改成如下内容</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8443"</span></span></div><div class="line"> <span class="attr">protocol</span>=<span class="string">"org.apache.coyote.http11.Http11Protocol"</span> </div><div class="line"> <span class="attr">SSLEnabled</span>=<span class="string">"true"</span></div><div class="line"> <span class="attr">maxThreads</span>=<span class="string">"150"</span>      </div><div class="line"> <span class="attr">scheme</span>=<span class="string">"https"</span> </div><div class="line"> <span class="attr">secure</span>=<span class="string">"true"</span>  </div><div class="line"> <span class="attr">clientAuth</span>=<span class="string">"false"</span>  </div><div class="line"> <span class="attr">keystoreFile</span>=<span class="string">"D:/apache-tomcat-6.0.35/webapps/ROOT/ca/server.p12"</span></div><div class="line"> <span class="attr">keystorePass</span>=<span class="string">"123456"</span>      </div><div class="line"> <span class="attr">keystoreType</span>=<span class="string">"PKCS12"</span></div><div class="line"> <span class="attr">truststoreFile</span>=<span class="string">"D:/apache-tomcat-6.0.35/webapps/ROOT/ca/server.jks"</span></div><div class="line"> <span class="attr">truststorePass</span>=<span class="string">"123456"</span>      </div><div class="line"> <span class="attr">truststoreType</span>=<span class="string">"JKS"</span>/&gt;</div><div class="line"> </div><div class="line"><span class="comment">&lt;!--如果服务器报错 alias xxxx 就加上一个属性--&gt;</span></div><div class="line"><span class="comment">&lt;!--keyAlias="1"--&gt;</span></div></pre></td></tr></table></figure>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>iOS下载ipa，是通过下载一个plist，然后解析plist文件进行下载安装ipa的，所以我们网站的连接应该指向我们生成的plist文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN\" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>items<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span>assets<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">key</span>&gt;</span>kind<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">string</span>&gt;</span>software-package<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">key</span>&gt;</span>url<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">string</span>&gt;</span>$&#123;dowloadBaseUrl&#125;/$&#123;appName&#125;.ipa<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>metadata<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span>bundle-identifier<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>$&#123;bundleId&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span>bundle-version<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>1.1.0<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span>kind<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>software<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span>releaseNotes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>1.1版本发布<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span>title<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">string</span>&gt;</span>$&#123;targetname&#125;<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span>"</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/22/Shell/" itemprop="url">
                  Shell 基础教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-22T09:46:05+08:00" content="2016-08-22">
              2016-08-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.runoob.com/linux/linux-shell-basic-operators.html" target="_blank" rel="external">链接</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/19/hexoBlog/" itemprop="url">
                  Hexo + Github 搭建博客 （本地篇）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-19T17:34:35+08:00" content="2016-08-19">
              2016-08-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="搭建完毕"><a href="#搭建完毕" class="headerlink" title="搭建完毕"></a>搭建完毕</h1><h3 id="Hexo-Github搭建博客"><a href="#Hexo-Github搭建博客" class="headerlink" title="Hexo + Github搭建博客"></a>Hexo + Github搭建博客</h3><h4 id="搭完了"><a href="#搭完了" class="headerlink" title="搭完了"></a>搭完了</h4><h5 id="完了"><a href="#完了" class="headerlink" title="完了"></a>完了</h5><h6 id="了"><a href="#了" class="headerlink" title="了"></a>了</h6><h6 id="。"><a href="#。" class="headerlink" title="。"></a>。</h6><blockquote>
<p>囧，网上太多现成的教程了，就不再写了，把别人的连接拿过来直接看吧</p>
</blockquote>
<h1 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h1><h3 id="Hexo官网"><a href="#Hexo官网" class="headerlink" title="Hexo官网"></a><a href="https://hexo.io" target="_blank" rel="external">Hexo官网</a></h3><h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><p>使用Hexo需要使用Nodejs, 直接百度搜索安装Nodejs吧</p>
<p>完了之后再terminal执行命令，安装Hexo</p>
<pre><code>npm install hexo-cli -g
</code></pre><h4 id="完了，开始写博客"><a href="#完了，开始写博客" class="headerlink" title="完了，开始写博客"></a>完了，开始写博客</h4><p>随便建立一个文件夹，cd进去，执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo init   // 初始化一个hexo项目</div><div class="line">npm install	// 把本项目安装到 npm</div><div class="line">hexo server	// 启动hexo服务器</div></pre></td></tr></table></figure>
<p>接下来只要在浏览器打开terminal上的命令行即可，一般默认<a href="localhost:4000" target="_blank" rel="external">localhost:4000</a></p>
<h4 id="Hexo-目录结构"><a href="#Hexo-目录结构" class="headerlink" title="Hexo 目录结构"></a>Hexo 目录结构</h4><ul>
<li>node_modules // 别管</li>
<li>packag.json // 别管</li>
<li>scaffolds // 别管</li>
<li>source // 创建的文章都放在这里</li>
<li>themes // 网站主题文件夹<ul>
<li>上网下载的主题文件夹，都放在这个文件夹下。</li>
</ul>
</li>
<li><p>_config.yml // 网站的主要配置文件</p>
<ul>
<li>theme: 就是你自己下载的主题文件夹在这里配置</li>
<li>没什么好配的，进去看到title改改就好了，囧，其他之后你都懂的了</li>
</ul>
</li>
<li><p>public // 这个文件夹一开始不会出现，只会在执行 hexo deploy命令后出现，产生的这个文件夹，是静态网页文件，直接放上网站或者github上，就完成网站的部署</p>
</li>
</ul>
<h4 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h4><p>新增一个文章，在你的hexo项目目录下执行</p>
<pre><code>hexo new [title name]
</code></pre><p>就会在 source/_posts  目录下创建一个md文件，就可以在这里写文章。<br>创建的文件都有个格式，格式不能删除，格式是发布网站时的各种信息依据<br>格式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: 你的文章title</div><div class="line">date: 2016-08-19 10:44:25 # 发布日期</div><div class="line">categories: 文章所在分类 # 即使没有配置，也可以写上，之后的hexo会生成对应的路径 </div><div class="line">tags: [iOS, 数据库] # 文章的标签，即使没有配置，也可以写上，之后的hexo会生成对应的路径 </div><div class="line"></div><div class="line">---</div></pre></td></tr></table></figure>
<p>文章再这个格式后开始写即可</p>
<h4 id="本地发布"><a href="#本地发布" class="headerlink" title="本地发布"></a>本地发布</h4><p>要发布到网站，就需要生成静态的html网页，其实在本地，即使不转换成静态网页，hexo也会帮我们即时渲染，但是由于缓存的原因，我们不一定能马上看到效果，所以还是发布一下比较实在。<br>写完文章之后，在hexo目录下执行</p>
<pre><code>hexo clean        // 清楚缓存
hexo generate        // 生成静态页面
hexo deploy        // 如果有配置github的话，可以直接发布到远程
</code></pre><p>在generate之后，我们就可以在目录结构下，看到多了一个public文件夹，里面就是发布网站所需要的文件。</p>
<p>之前写md时的开头格式中的 categories 和 tags 都会在这里生成对应的文件夹。需要访问对应的页面时，只需要根据文件夹层次，输入路径即可。</p>
<h1 id="No-Windows"><a href="#No-Windows" class="headerlink" title="No Windows"></a>No Windows</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/19/iOS用对FMDB的封装/" itemprop="url">
                  iOS用对FMDB封装
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-19T10:44:25+08:00" content="2016-08-19">
              2016-08-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index">
                    <span itemprop="name">technology</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS用对FMDB封装"><a href="#iOS用对FMDB封装" class="headerlink" title="iOS用对FMDB封装"></a>iOS用对FMDB封装</h1><p><strong>一个对FMDB进行类Hibernate封装的ios库</strong></p>
<p>GitHub: <a href="https://github.com/scubers" target="_blank" rel="external">sucbers</a></p>
<p>Feedback: <a href="mailto:jrwong@qq.com" target="_blank" rel="external">jr-wong@qq.com</a></p>
<hr>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><ul>
<li>使用分类的模式，模仿Hibernate，对FMDB进行简易封装 </li>
<li>支持pod 安装 『pod ‘JRDB’』，Podfile需要添加  use_framework! </li>
<li>使用协议，不用继承基类，对任意NSObject可以进行入库操作</li>
<li>支持swift 和 Objective-C</li>
<li>支持数据类型：基本数据类型（int，double，等），String，NSData，NSNumber，NSDate<ul>
<li>注：swift的基本数据类型，不支持<strong>Option</strong>类型，既不支持Int？Int！等，对象类型支持<strong>Option</strong>类型</li>
</ul>
</li>
</ul>
<hr>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod &apos;JRDB&apos;</div></pre></td></tr></table></figure>
<h1 id="Latest-Update"><a href="#Latest-Update" class="headerlink" title="Latest Update"></a>Latest Update</h1><blockquote>
<ul>
<li>优化线程操作</li>
<li>修复一直bug</li>
<li>完善测试用例（完善测试代码覆盖率）</li>
<li>优化代码，去除宏代码编写</li>
</ul>
</blockquote>
<hr>
<h1 id="API链式调用"><a href="#API链式调用" class="headerlink" title="API链式调用"></a>API链式调用</h1><h2 id="Insert"><a href="#Insert" class="headerlink" title="Insert"></a>Insert</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Person *p = [Person new];</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> result = J_Insert(p)</div><div class="line">					.InDB([JRDBMgr defaultDB]) <span class="comment">// by Default </span></div><div class="line">					.Recursive(<span class="literal">NO</span>)			<span class="comment">// by default </span></div><div class="line">					.Sync(<span class="literal">YES</span>)				<span class="comment">// by default</span></div><div class="line">					.Trasaction(<span class="literal">YES</span>)			<span class="comment">// by default</span></div><div class="line">					.updateResult;		</div><div class="line"></div><div class="line"><span class="comment">// 可以省略为</span></div><div class="line"><span class="built_in">BOOL</span> result = J_Insert(p).updateResult;</div><div class="line">		</div><div class="line"><span class="comment">// 数组保存，两种 api 自由使用</span></div><div class="line"><span class="built_in">BOOL</span> result = J_Insert(p1, p2, p3).updateResult;</div><div class="line"></div><div class="line"><span class="built_in">BOOL</span> result = J_Insert(@[p1, p2, p3]).updateResult;</div></pre></td></tr></table></figure>
<h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 更新指定列</span></div><div class="line"><span class="built_in">BOOL</span> result = J_Update(p).Columns(@[<span class="string">@"_age"</span>, <span class="string">@"_name"</span>]).updateResult;</div><div class="line"><span class="comment">// 忽略指定列</span></div><div class="line"><span class="built_in">BOOL</span> result = J_Update(p).Ignore(@[<span class="string">@"_phone"</span>]).updateResult;</div><div class="line"></div><div class="line"><span class="comment">// 更新数组</span></div><div class="line"><span class="built_in">BOOL</span> result = J_Update(p1, p2).updateResult;</div><div class="line"><span class="built_in">BOOL</span> result = J_Update(@[p1, p2, p3]).updateResult;</div></pre></td></tr></table></figure>
<h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><ul>
<li>相关配置（Insert 和 Update的配置都可以使用）</li>
<li>Recursive：<a href="#linkdelete">详细请看</a></li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">BOOL</span> result = J_Delete(p).updateResult;</div></pre></td></tr></table></figure>
<h2 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 普通查询</span></div><div class="line"><span class="built_in">NSArray</span> *result = J_Select(Person)</div><div class="line">                    .Recursive(<span class="literal">YES</span>)		<span class="comment">// by default</span></div><div class="line">                    .Sync(<span class="literal">YES</span>)			<span class="comment">// by default</span></div><div class="line">                    .Cache(<span class="literal">NO</span>)			<span class="comment">// by default</span></div><div class="line">                    .Desc(<span class="literal">NO</span>)				<span class="comment">// by default</span></div><div class="line">                    .Where(<span class="string">@"_name like ? and _height &gt; ?"</span>)</div><div class="line">                    .Params(@[<span class="string">@"L%"</span>, @<span class="number">150</span>])</div><div class="line">                    .Group(<span class="string">@"_level"</span>)</div><div class="line">                    .Order(<span class="string">@"_age"</span>)</div><div class="line">                    .Limit(<span class="number">0</span>, <span class="number">10</span>)			</div><div class="line">                    .list;</div><div class="line"></div><div class="line"><span class="comment">// 自定义查询</span></div><div class="line"><span class="built_in">NSArray</span> *result = J_SelectColumns(@[<span class="string">@"_age"</span>, <span class="string">@"_name"</span>])</div><div class="line">						.FromJ([Person <span class="keyword">class</span>])</div><div class="line">						.Recursive(<span class="literal">YES</span>)   <span class="comment">// this will not function in customize query</span></div><div class="line">						.Sync(<span class="literal">YES</span>)		 <span class="comment">// by default</span></div><div class="line">						.Cache(<span class="literal">NO</span>)		 <span class="comment">// this will not function in customize query</span></div><div class="line">						.Where(<span class="string">@"_name like ? and _height &gt; ?"</span>)</div><div class="line">						.Params(@[<span class="string">@"L%"</span>, @<span class="number">150</span>])</div><div class="line">						.Group(<span class="string">@"_level"</span>)</div><div class="line">						.Order(<span class="string">@"_age"</span>)</div><div class="line">						.Limit(<span class="number">0</span>, <span class="number">10</span>)</div><div class="line">						.Desc(<span class="literal">NO</span>)			<span class="comment">// by default</span></div><div class="line">						.list;</div><div class="line"></div><div class="line"><span class="built_in">NSUInteger</span> count = J_SelectCount(Person)</div><div class="line">						.Recursive(<span class="literal">YES</span>)   <span class="comment">// this will not function in customize </span></div><div class="line">						.Sync(<span class="literal">YES</span>)</div><div class="line">						.Cache(<span class="literal">NO</span>)		 <span class="comment">// this will not function in customize </span></div><div class="line">						.Where(<span class="string">@"_name like ? and _height &gt; ?"</span>)</div><div class="line">						.Params(<span class="string">@"L%"</span>, @<span class="number">150</span>)</div><div class="line">						.Group(<span class="string">@"_level"</span>)</div><div class="line">						.Order(<span class="string">@"_age"</span>)</div><div class="line">						.Limit(<span class="number">0</span>, <span class="number">10</span>)</div><div class="line">						.Desc(<span class="literal">YES</span>) </div><div class="line">						.count;</div></pre></td></tr></table></figure>
<ul>
<li>Configuration</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">配置</th>
<th>功能</th>
<th>参数类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">InDB</td>
<td>[JRDBMgr defaultDB] by default;</td>
<td>FMDatabase *</td>
</tr>
<tr>
<td style="text-align:center">From</td>
<td>自定义查询时指定的类名</td>
<td>Class</td>
</tr>
<tr>
<td style="text-align:center">Recursive</td>
<td>NO by default;<br> NO:效率高，<br>YES：<a href="#linksave">关联操作</a>效率低</td>
<td>YES or NO</td>
</tr>
<tr>
<td style="text-align:center">Transaction</td>
<td>YES by default;<br> NO:本操作不包含事务，外界需要事务支持<br>YES：包含事务</td>
<td>YES or NO</td>
</tr>
<tr>
<td style="text-align:center">Sync</td>
<td>YES by default;<br>YES:阻塞本线程，线程安全同步执行数据库操作；<br>NO：在本线程执行数据库操作，线程不安全</td>
<td>YES or NO</td>
</tr>
<tr>
<td style="text-align:center">Cache</td>
<td>NO by default</td>
<td>YES or NO</td>
</tr>
<tr>
<td style="text-align:center">Where</td>
<td>Where 后面的条件筛选语句，使用 ？作为参数占位符</td>
<td>NSString *</td>
</tr>
<tr>
<td style="text-align:center">WhereIdIs</td>
<td>等同于 Where(@” _id = ?”)</td>
<td>NSString *</td>
</tr>
<tr>
<td style="text-align:center">WherePKIs</td>
<td>等同于 Where(@”&lt;#primary key#&gt; = ?”)</td>
<td>id</td>
</tr>
<tr>
<td style="text-align:center">Params</td>
<td>Where 语句占位符对应的参数</td>
<td>NSArray *</td>
</tr>
<tr>
<td style="text-align:center">Columns</td>
<td>更新时候指定更新的列</td>
<td>NSArray *</td>
</tr>
<tr>
<td style="text-align:center">Ignore</td>
<td>更新时指定忽略的列</td>
<td>NSArray *</td>
</tr>
<tr>
<td style="text-align:center">Group</td>
<td>group by 字段</td>
<td>NSString *</td>
</tr>
<tr>
<td style="text-align:center">Order</td>
<td>order by 字段</td>
<td>NSString *</td>
</tr>
<tr>
<td style="text-align:center">Limit</td>
<td>分页字段 （start, length）</td>
<td>unsigned long, unsigned long</td>
</tr>
<tr>
<td style="text-align:center">Desc</td>
<td>NO by default; 是否根据orderby 进行降序</td>
<td>YES or NO</td>
</tr>
</tbody>
</table>
<h2 id="Macro"><a href="#Macro" class="headerlink" title="Macro"></a>Macro</h2><ul>
<li>使用宏，让调用变成更智能<ul>
<li><code>From([Person class]) --&gt; FromJ(Person)</code><ul>
<li><code>Where(@&quot;_name = ?&quot;) --&gt; WhereJ(_name = ?)</code></li>
<li><code>Order(@&quot;_name&quot;) --&gt; OrderJ(name)</code></li>
<li><code>Group(@&quot;_name&quot;) --&gt; GroupJ(name)</code></li>
<li><code>Params(@[@&quot;jack&quot;, @&quot;mark&quot;]) --&gt; ParamsJ(@&quot;jack&quot;, @&quot;mark&quot;)</code></li>
<li><code>Ignore(@[@&quot;_name&quot;, @&quot;_age&quot;]) --&gt; IgnoreJ(@&quot;_name&quot;, @&quot;_age&quot;)</code></li>
<li><code>Columns(@[@&quot;_name&quot;, @&quot;_age&quot;]) --&gt; ColumnsJ(@&quot;_name&quot;, @&quot;_age&quot;)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// example</div><div class="line">NSArray *result = J_Select(Person)</div><div class="line">                    .WhereJ(_name like ? and _height &gt; ?)</div><div class="line">                    .ParamsJ(@&quot;a%&quot;, @100)</div><div class="line">                    .GroupJ(h_double)</div><div class="line">                    .OrderJ(d_long_long)</div><div class="line">                    .list;</div><div class="line">                    </div><div class="line">BOOL result = J_Update(person)</div><div class="line">						.ColumnsJ(J(name), J(age))</div><div class="line">					//	.IgnoreJ(J(name), J(age))</div><div class="line">                    .updateResult;</div></pre></td></tr></table></figure>
<h1 id="——————–Old-Version———————"><a href="#——————–Old-Version———————" class="headerlink" title="——————–Old Version———————"></a>——————–Old Version———————</h1><h4 id="NSObject-JRDB"><a href="#NSObject-JRDB" class="headerlink" title="NSObject+JRDB"></a>NSObject+JRDB</h4><p>使用JRDBChain重构NSObject+JRDB类 重新定义该分类的功能。</p>
<ul>
<li>重构，简化API，使用更简单。</li>
<li>该分类的所有方法都是同步方法，线程安全，并且阻塞本线程执行。</li>
<li>该分类中的方法全部使用事务。</li>
<li>该分类方法不能在    <code>FMDatabase+JRDB.h</code> 中的各种block中使用，因为分类中的方法使用的是默认数据库，而  <code>FMDatabase+JRDB.h</code> 中的block都要使用回调block中提供的 <code>FMDatabase</code> 对象。</li>
</ul>
<h3 id="Prepare-【准备】"><a href="#Prepare-【准备】" class="headerlink" title="Prepare 【准备】"></a>Prepare 【准备】</h3><ul>
<li>相比之前版本，添加一步，所有需要操作入库的类都需要先注册一遍。</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[[JRDBMgr shareInstance] registerClazzes:@[</div><div class="line">                                           [Person <span class="keyword">class</span>],</div><div class="line">                                           [Card <span class="keyword">class</span>],</div><div class="line">                                           [Money <span class="keyword">class</span>],</div><div class="line">                                           ]];</div></pre></td></tr></table></figure>
<ul>
<li>每步的操作，实际都是根据数据转换成sql语句，可以设置是否打印</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[JRDBMgr shareInstance].debugMode = <span class="literal">NO</span>;</div></pre></td></tr></table></figure>
<p><a id="linksave"></a></p>
<h3 id="关联操作-（保存）"><a href="#关联操作-（保存）" class="headerlink" title="关联操作 （保存）"></a>关联操作 （保存）</h3><ul>
<li>一对一关联（model内含有model）；默认是不会进行关联保存的，若有需要关联保存，需要实现一下方法，并且子model也需要注册。</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) Card *card;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSMutableArray</span>&lt;Money *&gt; *money;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></div><div class="line">+ (<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *,Class&lt;JRPersistent&gt;&gt; *)jr_singleLinkedPropertyNames &#123;</div><div class="line">    <span class="keyword">return</span> @&#123; <span class="string">@"_card"</span> : [Card <span class="keyword">class</span>]&#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<ul>
<li>一对多关联（model内含有model数组）；默认不会进行关联保存，若有需要关联保存，需要实现一下方法，并且子model也需要注册。</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) Card *card;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSMutableArray</span>&lt;Money *&gt; *money;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></div><div class="line">+ (<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *,Class&lt;JRPersistent&gt;&gt; *)jr_oneToManyLinkedPropertyNames &#123;</div><div class="line">    <span class="keyword">return</span> @&#123; <span class="string">@"_money"</span> : [Money <span class="keyword">class</span>] &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p><strong>注意：若子对象都是没有保存过的（既数据库没有的对象），则全部保存。若有已存在对象，不保存不更新。</strong></p>
<hr>
<p><a id="linkupdate"></a></p>
<h3 id="关联操作（更新）"><a href="#关联操作（更新）" class="headerlink" title="关联操作（更新）"></a>关联操作（更新）</h3><ul>
<li><p>出于更新的操作的随意性比较重，更新时不进行一切关联操作，即更新时，只更新本model相关信息，不更新所有子model的信息。当层级较多的时候，需要从子层级开始一步一步开始更新上来（所以不建议建立太多层级）</p>
</li>
<li><p>更新本model的信息包括：</p>
<ul>
<li>子model的ID会保存（若有）</li>
<li>子model数组的数量（若子model数组数量发生变更会更新，但是子model的数组不会更到数据库）</li>
</ul>
</li>
</ul>
<hr>
<p><a id="linkdelete"></a></p>
<h3 id="关联操作（删除）"><a href="#关联操作（删除）" class="headerlink" title="关联操作（删除）"></a>关联操作（删除）</h3><ul>
<li>和更新一样，删除时，只会删除本model的信息，不会进行一切关联操作。</li>
<li>删除时，会删除一对多的中间表无用信息</li>
</ul>
<hr>
<p><a id="linkselect"></a></p>
<h3 id="关联操作（查询）"><a href="#关联操作（查询）" class="headerlink" title="关联操作（查询）"></a>关联操作（查询）</h3><ul>
<li>jr_get开头的查询操作，都不会进行关联操作，jr_find开头的都会进行关联操作，当不需要关联查询的时候，使用get方法效率更高<ul>
<li>jr_find关联查询包括所有存在的一对一和一对多关联对象</li>
<li>jr_get 得到的对象子对象都会是空的</li>
</ul>
</li>
</ul>
<hr>
<h3 id="NSArray-JRDB"><a href="#NSArray-JRDB" class="headerlink" title="NSArray+JRDB"></a>NSArray+JRDB</h3><ul>
<li>重写了NSObject+JRDB中的方法，可以批量 增删改查</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[array jr_save];</div><div class="line">[[Person jr_findAll] jr_delete];</div><div class="line">[[Card jr_findAll] jr_updateColumns:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<hr>
<h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><h3 id="Save-【保存】"><a href="#Save-【保存】" class="headerlink" title="Save 【保存】"></a>Save 【保存】</h3><ul>
<li>OC</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Person *p = [[Person alloc] init];</div><div class="line">p.a_int = <span class="number">1</span>;</div><div class="line">p.b_unsigned_int = <span class="number">2</span>;</div><div class="line">p.c_long = <span class="number">3</span>;</div><div class="line">p.d_long_long = <span class="number">4</span>;</div><div class="line">p.e_unsigned_long = <span class="number">5</span>;</div><div class="line">p.f_unsigned_long_long = <span class="number">6</span>;</div><div class="line">p.g_float = <span class="number">7.0</span>;</div><div class="line">p.h_double = <span class="number">8.0</span>;</div><div class="line">p.i_string = <span class="string">@"9"</span>;</div><div class="line">p.j_number = @<span class="number">10</span>;</div><div class="line">p.k_data = [<span class="built_in">NSData</span> data];</div><div class="line">p.l_date = [<span class="built_in">NSDate</span> date];</div><div class="line">[p jr_save];</div></pre></td></tr></table></figure>
<ul>
<li><strong>Swift</strong><ul>
<li>Swift中需要入库的类需要继承<strong>NSObject</strong>（使用到runtime）</li>
<li>The Object that you want to persistent should inherit from <strong>NSObject</strong></li>
</ul>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</div><div class="line">p.name = <span class="string">"name"</span></div><div class="line">p.age = <span class="number">10</span></div><div class="line">p.birthday = <span class="type">NSDate</span>()</div><div class="line">p.jr_save()</div></pre></td></tr></table></figure>
<hr>
<h3 id="Update-【更新】"><a href="#Update-【更新】" class="headerlink" title="Update 【更新】"></a>Update 【更新】</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Person *p = [Person jr_findAll].firstObject;</div><div class="line">p.name = <span class="string">@"abc"</span>;</div><div class="line">[p jr_updateColumns:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<pre><code>column: 需要更新的字段名，传入空为全量更新
</code></pre><hr>
<h3 id="Delete-【删除】"><a href="#Delete-【删除】" class="headerlink" title="Delete 【删除】"></a>Delete 【删除】</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Person *p = [Person jr_findAll].firstObject;</div><div class="line">[p jr_delete];</div></pre></td></tr></table></figure>
<hr>
<p>###Select 【查找】</p>
<ul>
<li>常规查找</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Person *p = [Person jr_findByPrimaryKey:<span class="string">@"111"</span>];</div><div class="line"><span class="built_in">NSArray</span> *list = [Person jr_findAll];</div><div class="line"><span class="built_in">NSArray</span> *list1 = [Person jr_findAllOrderBy:<span class="string">@"_age"</span> isDesc:<span class="literal">YES</span>];</div></pre></td></tr></table></figure>
<ul>
<li>条件查询</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> *condis = @[</div><div class="line">                    [JRQueryCondition condition:<span class="string">@"_l_date &lt; ?"</span> args:@[[<span class="built_in">NSDate</span> date]] type:JRQueryConditionTypeAnd],</div><div class="line">                    [JRQueryCondition condition:<span class="string">@"_a_int &gt; ?"</span> args:@[@<span class="number">9</span>] type:JRQueryConditionTypeAnd],</div><div class="line">                    ];</div><div class="line">    </div><div class="line"><span class="built_in">NSArray</span> *arr = [Person jr_findByConditions:condis</div><div class="line">                                   groupBy:<span class="string">@"_room"</span></div><div class="line">                                   orderBy:<span class="string">@"_age"</span></div><div class="line">                                     limit:<span class="string">@" limit 0,13 "</span></div><div class="line">                                    isDesc:<span class="literal">YES</span>];</div></pre></td></tr></table></figure>
<ul>
<li>SQL</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *sql = <span class="string">@"select * from Person where age = ?"</span>;</div><div class="line"><span class="built_in">NSArray</span> *list = [Person jr_executeSql:sql args:@[@<span class="number">10</span>]];</div></pre></td></tr></table></figure>
<hr>
<h1 id="Other-【其他】"><a href="#Other-【其他】" class="headerlink" title="Other 【其他】"></a>Other 【其他】</h1><h3 id="协议：JRPersistent"><a href="#协议：JRPersistent" class="headerlink" title="协议：JRPersistent"></a>协议：JRPersistent</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">JRPersistent</span> &lt;<span class="title">NSObject</span>&gt;</span></div><div class="line"><span class="keyword">@required</span></div><div class="line">- (<span class="keyword">void</span>)setID:(<span class="built_in">NSString</span> * _Nullable)ID;</div><div class="line">- (<span class="built_in">NSString</span> * _Nullable)ID;</div><div class="line"><span class="keyword">@optional</span></div><div class="line"><span class="comment">/**</span></div><div class="line"> *  返回不用入库的对象字段数组</div><div class="line"> *  The full property names that you want to ignore for persistent</div><div class="line"> *  @return array</div><div class="line"> */</div><div class="line">+ (<span class="built_in">NSArray</span> * _Nullable)jr_excludePropertyNames;</div><div class="line"><span class="comment">/**</span></div><div class="line"> *  返回自定义主键字段</div><div class="line"> *  @return 字段全名</div><div class="line"> */</div><div class="line">+ (<span class="built_in">NSString</span> * _Nullable)jr_customPrimarykey;</div><div class="line"><span class="comment">/**</span></div><div class="line"> *  返回自定义主键值</div><div class="line"> *  @return 主键值</div><div class="line"> */</div><div class="line">- (<span class="keyword">id</span> _Nullable)jr_customPrimarykeyValue;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h3 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h3><p>默认每个Object的主键为ID， UUID字符串。</p>
<p>可以实现 <code>jr_customPrimarykey</code> 以及 <code>jr_customPrimarykeyValue</code> 方法，自定义主键。</p>
<h3 id="默认NSObject分类实现"><a href="#默认NSObject分类实现" class="headerlink" title="默认NSObject分类实现"></a>默认NSObject分类实现</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSObject</span> (<span class="title">JRDB</span>) &lt;<span class="title">JRPersistent</span>&gt;</span></div><div class="line">(...methods)</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>–</p>
<h3 id="JRDBMgr"><a href="#JRDBMgr" class="headerlink" title="JRDBMgr"></a>JRDBMgr</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">JRDBMgr</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) FMDatabase * _Nullable defaultDB;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">BOOL</span> debugMode;</div><div class="line"></div><div class="line">+ (<span class="keyword">instancetype</span> _Nonnull)shareInstance;</div><div class="line">+ (FMDatabase * _Nonnull)defaultDB;</div><div class="line">- (FMDatabase * _Nullable)createDBWithPath:(<span class="built_in">NSString</span> * _Nullable)path;</div><div class="line">- (<span class="keyword">void</span>)deleteDBWithPath:(<span class="built_in">NSString</span> * _Nullable)path;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> *  在这里注册的类，使用本框架的只能操作已注册的类</div><div class="line"> *  @param clazz 类名</div><div class="line"> */</div><div class="line">- (<span class="keyword">void</span>)registerClazz:(Class&lt;JRPersistent&gt; _Nonnull)clazz;</div><div class="line">- (<span class="keyword">void</span>)registerClazzes:(<span class="built_in">NSArray</span>&lt;Class&lt;JRPersistent&gt;&gt; * _Nonnull)clazzArray;</div><div class="line">- (<span class="built_in">NSArray</span>&lt;Class&gt; * _Nonnull)registeredClazz;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 更新默认数据库的表（或者新建没有的表）</div><div class="line"> * 更新的表需要在本类先注册</div><div class="line"> */</div><div class="line">- (<span class="keyword">void</span>)updateDefaultDB;</div><div class="line">- (<span class="keyword">void</span>)updateDB:(FMDatabase * _Nonnull)db;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> *  检查是否注册</div><div class="line"> *</div><div class="line"> *  @param clazz 类</div><div class="line"> *  @return 结果</div><div class="line"> */</div><div class="line">- (<span class="built_in">BOOL</span>)isValidateClazz:(Class&lt;JRPersistent&gt; _Nonnull)clazz;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> *  清理中间表的缓存辣鸡</div><div class="line"> *</div><div class="line"> *  @param db</div><div class="line"> */</div><div class="line">- (<span class="keyword">void</span>)clearMidTableRubbishDataForDB:(FMDatabase * _Nonnull)db;</div></pre></td></tr></table></figure>
<p>JRDBMgr持有一个默认数据库（~/Documents/jrdb/jrdb.sqlite），任何不指定数据库的操作，都在此数据库进行操作。默认数据库可以自行设置。</p>
<hr>
<h1 id="Table-Operation-【表操作】"><a href="#Table-Operation-【表操作】" class="headerlink" title="Table Operation 【表操作】"></a>Table Operation 【表操作】</h1><h3 id="Create-【建表】"><a href="#Create-【建表】" class="headerlink" title="Create 【建表】"></a>Create 【建表】</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// FMDatabase+JRDB 方法</span></div><div class="line">[[JRDBMgr defaultDB] createTable4Clazz:[Person <span class="keyword">class</span>]];</div><div class="line">[Person jr_createTable];</div><div class="line"></div><div class="line"><span class="comment">// 删除原有的表，重新创建</span></div><div class="line">[[JRDBMgr defaultDB] truncateTable4Clazz:[Person <span class="keyword">class</span>]];</div><div class="line">[Person jr_truncateTable];</div><div class="line"></div><div class="line"><span class="comment">//保存时，若发现没有表，将自动创建</span></div><div class="line">[person jr_save];</div></pre></td></tr></table></figure>
<h3 id="Update-【更新表】"><a href="#Update-【更新表】" class="headerlink" title="Update 【更新表】"></a>Update 【更新表】</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[[JRDBMgr defaultDB] updateTable4Clazz:[Person <span class="keyword">class</span>]];</div><div class="line">[Person jr_updateTable];</div></pre></td></tr></table></figure>
<p>更新表时，只会添加不存在的字段，不会修改字段属性，不会删除字段，若有需要，需要自行写sql语句进行修改</p>
<h3 id="Drop-【删表】"><a href="#Drop-【删表】" class="headerlink" title="Drop 【删表】"></a>Drop 【删表】</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[[JRDBMgr defaultDB] dropTable4Clazz:[Person <span class="keyword">class</span>]];</div><div class="line">[Person jr_dropTable];</div></pre></td></tr></table></figure>
<hr>
<h1 id="Thread-Operation-【线程操作】"><a href="#Thread-Operation-【线程操作】" class="headerlink" title="Thread Operation 【线程操作】"></a>Thread Operation 【线程操作】</h1><ul>
<li>多线程操作使用FMDB自带的 FMDatabaseQueue</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[person jr_saveWithComplete:^(<span class="built_in">BOOL</span> success) &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%d"</span>, success);</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p>任何带complete block的操作，都将放入到FMDatabaseQueue进行顺序执行</p>
<ul>
<li>注：所有需要立刻返回结果，或者影响其他操作的数据库操作，都建议放在主线程进行更新，大批量更新以及多线程操作数据库时，请使用带complete block的操作。</li>
</ul>
<hr>
<h1 id="MoreUsage"><a href="#MoreUsage" class="headerlink" title="MoreUsage"></a>MoreUsage</h1><ul>
<li>查看FMDatabase+JRDB.h</li>
</ul>
<h3 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h3><p>库还在更新中，如果有使用不好或者bug，请邮件联系</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/head/head.jpg"
               alt="Jrwong" />
          <p class="site-author-name" itemprop="name">Jrwong</p>
          <p class="site-description motion-element" itemprop="description">天道酬勤</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/scubers" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:jrwong@qq.com" target="_blank" title="Email">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Email
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jrwong</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
